MOV R16, 3
EQ R16, R1
JZ R16, _L1
BACKUP
MOV R1, 8
MOV R16, 29560
ADD R16, 1
MOV R16, [R16]
MOV R2, R16
CALL 20480
RESTORE
MOV R16, R3
PORT P1, R16
OUT
BACKUP
MOV R1, 9
MOV R16, 29560
ADD R16, 1
MOV R16, [R16]
MOV R2, R16
CALL 20480
RESTORE
RET
JMP _L2
_L1:
RET
_L2:
HALT